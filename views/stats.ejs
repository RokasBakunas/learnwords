<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Statistics</title>
    <link href="/output.css" rel="stylesheet">
</head>
<body class="bg-gray-50">
    <div class="container mx-auto mt-8">
        <div class="flex justify-center">
            <a href="/add-words" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Add New Words</a>
            <a href="/learn" class="ml-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Learn</a>
            <a href="/stats" class="ml-4 bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">View Statistics</a>
        
        </div>
    </div>
    <div class="container mx-auto pt-8">
        <h1 class="text-2xl font-bold text-center mb-6">Statistics</h1>
        <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
            <table class="table-auto w-full">
                <thead>
                    <tr>
                        <th class="px-4 py-2">German Word</th>
                        <th class="px-4 py-2">Lithuanian Word</th>
                        <th class="px-4 py-2">Correct</th>
                        <th class="px-4 py-2">Wrong</th>
                        <th class="px-4 py-2">%</th>
                        <th class="px-4 py-2">Progress bar</th>
                    </tr>
                </thead>
                <tbody>
                    <% words.forEach(word => { %>
                        <tr>
                            <td class="border px-4 py-2"><%= word.germanWord %></td>
                            <td class="border px-4 py-2"><%= word.lithuanianWord %></td>
                            <td class="border px-4 py-2"><%= word.correctAnswers %></td>
                            <td class="border px-4 py-2"><%= word.wrongAnswers %></td>
                            <td class="border px-4 py-2">
                                <% 
                                const total = word.correctAnswers + word.wrongAnswers;
                                const rate = total > 0 ? ((word.correctAnswers / total) * 100).toFixed(2) : "N/A";
                                %>
                                <%= rate %>%
                            </td>
                            <td class="border px-4 py-2">
                                <% if (total > 0) { %>
                                    <div class="bg-gray-200 rounded-full h-2 w-full">
                                        <div class="bg-blue-600 h-2 rounded-full" style="width:<%= rate %>%"></div>
                                    </div>
                                <% } else { %>
                                    N/A
                                <% } %>
                            </td>
                            <td class="border px-4 py-2">
                                <a href="/edit/<%= word._id %>" class="text-blue-500 hover:text-blue-800">Edit</a>
                              </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </div>
    <script src="https://cdn.tailwindcss.com"></script>
</body>
</html>
